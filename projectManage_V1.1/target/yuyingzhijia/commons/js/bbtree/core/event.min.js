/*[/img/ng/lib/gmu/2.1.1/js/core/event.min.js]*/
!function(a,b){function c(a,b,c){(a||"").split(i).forEach(function(a){c(a,b)})}function d(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function e(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function f(a,b,c,f){var g,h;return h=e(b),h.ns&&(g=d(h.ns)),a.filter(function(a){return!(!a||h.e&&a.e!==h.e||h.ns&&!g.test(a.ns)||c&&a.cb!==c&&a.cb._cb!==c||f&&a.ctx!==f)})}function g(a,c){return this instanceof g?(c&&b.extend(this,c),this.type=a,this):new g(a,c)}var h=[].slice,i=/\s+/,j=function(){return!1},k=function(){return!0};g.prototype={isDefaultPrevented:j,isPropagationStopped:j,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k}},a.event={on:function(a,b,d){var f,g=this;return b?(f=this._events||(this._events=[]),c(a,b,function(a,b){var c=e(a);c.cb=b,c.ctx=d,c.ctx2=d||g,c.id=f.length,f.push(c)}),this):this},one:function(a,b,d){var e=this;return b?(c(a,b,function(a,b){var c=function(){return e.off(a,c),b.apply(d||e,arguments)};c._cb=b,e.on(a,c,d)}),this):this},off:function(a,b,d){var e=this._events;return e?a||b||d?(c(a,b,function(a,b){f(e,a,b,d).forEach(function(a){delete e[a.id]})}),this):(this._events=[],this):this},trigger:function(a){var b,c,d,e,i,j=-1;if(!this._events||!a)return this;if("string"==typeof a&&(a=new g(a)),b=h.call(arguments,1),a.args=b,b.unshift(a),c=f(this._events,a.type))for(e=c.length;++j<e;)if((d=a.isPropagationStopped())||!1===(i=c[j]).cb.apply(i.ctx2,b)){d||(a.stopPropagation(),a.preventDefault());break}return this}},a.Event=g}(gmu,gmu.$);
