TY.namespace("m"),TY.loadedModule("TY.m.share"),function($){var TYShare={share:function(s){TYShare.init(s)},init:function(s){this.setConfig(s),$("#TY_plug_share").length<=0?this.insertHtml():void 0,this.showShare(),this.bindEvent()},setConfig:function(s){this.defArgs={position:"bottom",via:"",titile:"",summary:"",url:"",img:""},this.args=$.extend({},this.defArgs,s)},insertHtml:function(){var pos="bottom";pos="top"==this.args.position?"top:0":"center"==this.args.position?"top:50%;margin-top:-150px;":"bottom:0";var via="<a href='#' class='bds_ty' data-cmd='ty'></a><a href='javascript:void(0)' class='bds_weixin'></a><a href='#' class='bds_qzone' data-cmd='qzone'></a><a href='#' class='bds_tqq' data-cmd='tqq'></a><a href='#' class='bds_tsina' data-cmd='tsina'></a><a href='#' class='bds_tieba' data-cmd='tieba'></a><a href='#' class='bds_douban' data-cmd='douban'></a><a href='#' class='bds_renren' data-cmd='renren'></a>";if(""!=this.args.via)for(via="",i=0;i<this.args.via.length;i++){var t=this.args.via[i];via="weixin"==t?via+"<a href='javascript:void(0)' class='bds_"+t+"'></a>":via+"<a href='#' class='bds_"+t+"' data-cmd='"+t+"'></a>"}var share_html="<div class='TY_plug_share' id='TY_plug_share' style='"+pos+"'><h2><span>分享到</span></h2><div class='bdsharebuttonbox'>"+via+"</div><div class='btn_clo'>取 消</div></div><div class='share_wx'><div class='share_wx_arrow'></div><div class='share_wx_tip'><div class='share_wx_text'></div><div class='share_wx_btn'></div></div></div><div class='TY_plug_share_cover' id='TY_plug_share_cover'></div>",browseInfo=navigator.userAgent;with($("body").append(share_html),""!=this.args.via&&this.args.via.length<=4&&$(".TY_plug_share .bdsharebuttonbox").height($(".TY_plug_share .bdsharebuttonbox").height()/2),window._bd_share_config={common:{bdText:this.args.titile,bdDesc:this.args.summary,bdUrl:this.args.url,bdPic:this.args.img},share:[{bdSize:32}]},document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)];$(".share_wx").addClass(browseInfo.indexOf("iPhone")>=0?browseInfo.indexOf("MicroMessenger")>=0||browseInfo.indexOf("QQ")>=0&&browseInfo.indexOf("MQQBrowser")<0?"browse_rt":browseInfo.indexOf("baidubrowser")>=0?"browse_an_bd":browseInfo.indexOf("OPiOS")>=0?"browse_rb":"browse_cb":browseInfo.indexOf("MicroMessenger")>=0||browseInfo.indexOf("QQ")>=0&&browseInfo.indexOf("MQQBrowser")<0?"browse_rt":browseInfo.indexOf("baidubrowser")>=0?"browse_an_bd":browseInfo.indexOf("OPiOS")>=0?"browse_rb":"browse_o")},showShare:function(){$("#TY_plug_share").show(),$("#TY_plug_share_cover").show()},bindEvent:function(){$("#TY_plug_share .btn_clo,#TY_plug_share_cover").click(function(){$("#TY_plug_share").hide(),$("#TY_plug_share_cover").hide()}),$("#TY_plug_share .bds_weixin").click(function(){$("#TY_plug_share").hide(),$(".share_wx").show()}),$(".share_wx_btn").click(function(){$(".share_wx").hide(),$(".TY_plug_share_cover").hide()})}};TY.m.share=TYShare.share}(Zepto);